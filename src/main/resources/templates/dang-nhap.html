<!DOCTYPE html>
<html th:lang="${#locale}" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main}">

<head>
  <title layout:fragment="title" th:text="#{login.title}">Đăng Nhập - UrbanSteps</title>
  <th:block layout:fragment="extra-css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/css/dang-nhap.css">
  </th:block>
</head>

<div layout:fragment="content">
  <div class="login-wrapper">
    <div class="back-to-home">
      <a th:href="@{/}">
        <i class="bi bi-arrow-left"></i>
        <span th:text="#{nav.home}">Trang chủ</span>
      </a>
    </div>

    <div class="login-container">
      <div class="brand-logo-img">
        <img src="/images/Home/logo.jpg" alt="UrbanSteps" />
      </div>
      <h1 class="login-title" th:text="#{login.welcome}">Chào mừng trở lại!</h1>
      <p class="login-subtitle" th:text="#{login.subtitle}">Đăng nhập để tiếp tục mua sắm</p>

      <form th:action="@{/dang-nhap}" method="post">
        <div class="form-group input-icon">
          <i class="bi bi-person-fill"></i>
          <input type="text" id="username" name="taiKhoan" class="form-control"
                 th:placeholder="#{login.username}" placeholder="Tên đăng nhập" required>
        </div>

        <div class="form-group input-icon">
          <i class="bi bi-lock-fill"></i>
          <input type="password" id="password" name="matKhau" class="form-control"
                 th:placeholder="#{login.password}" placeholder="Mật khẩu" required>
        </div>

        <!-- Hiển thị lỗi hoặc thông báo ngay dưới form -->
        <div th:if="${param.error}"
             class="alert alert-danger"
             style="margin-bottom:16px; border-radius:10px; font-size:1.08rem; box-shadow:0 4px 16px rgba(211,47,47,0.08); border-left:6px solid #d32f2f;">
          <i class="bi bi-exclamation-circle-fill" style="color:#d32f2f; margin-right:8px;"></i>
          <span th:text="#{login.error}">Sai tài khoản hoặc mật khẩu!</span>
        </div>


        <div th:if="${loginSuccess}" class="alert alert-success"
             style="margin-top:12px; border-radius:10px; font-size:1rem; box-shadow:0 4px 16px rgba(46,204,113,0.08); border-left:6px solid #27ae60;">
          <i class="bi bi-check-circle-fill" style="color:#27ae60; margin-right:8px;"></i>
          <span th:text="${loginSuccess}"></span>
        </div>

        <button type="submit" class="btn-login">
          <i class="bi bi-box-arrow-in-right me-2"></i>
          <span th:text="#{nav.login}">Đăng Nhập</span>
        </button>
      </form>

      <div class="features">
        <div class="feature-item">
          <i class="bi bi-shield-check"></i>
          <span th:text="#{login.feature.secure}">Bảo mật cao</span>
        </div>
        <div class="feature-item">
          <i class="bi bi-lightning-fill"></i>
          <span th:text="#{login.feature.fast}">Truy cập nhanh</span>
        </div>
        <div class="feature-item">
          <i class="bi bi-heart-fill"></i>
          <span th:text="#{login.feature.easy}">Dễ sử dụng</span>
        </div>
      </div>

      <div class="register-link">
        <span th:text="#{login.noAccount}">Chưa có tài khoản?</span>
        <a href="/tai-khoan/dang-ky" th:href="@{/tai-khoan/dang-ky}" th:text="#{nav.register}">Đăng Ký Ngay</a>
      </div>
    </div>
  </div>
</div>

</html>
